# Git/Githubの使い方を覚える
Githubを使うにはGitの使い方を覚える必要があります. 通常, Gitを使うにはマシンにGitをインストールする必要があります. 素晴らしいことに, CodeanywhereのコンテナにはGitがインストールされているので, 何もしなくてもGitが使えます. GitはTerminalから使います.

Git, Githubともに, 多くの機能があるので, ここでは, 授業で使う機能を学びます. Gitを本格的に使いたい人は, [ドットインストール](https://dotinstall.com/lessons/basic_git)などを使って, 勉強しましょう.

## RepositoryをFolkする (Github)
Repositoryとは, フォルダやファイルを 'ひとかたまり' にしたデータベースのようなものです. 高機能なフォルダみたいなものです. Githubにある他の人のファイルやプログラムに手を加えるためには, 他の人のRepositoryを自分のGithubのRepositoryにコピーする必要があります. このコピーのことをFolkと呼びます. 

まずは, FolkしたいRepositoryにアクセスします. 今回は[https://github.com/toshi-asai/jbs_tufs_18/](https://github.com/toshi-asai/jbs_tufs_18/)にアクセスします.
右上のFolkをクリックします.
![](pics/pics%20%2837%29.png)
しばらく待ちます.
![](pics/pics%20%2838%29.png)
できました.
![](pics/pics%20%2839%29.png)

## ライセンスについて
他の人のGithubのRepositoryにあるファイルを使う前にライセンスを確認しましょう. Repositoryのトップに`LICENSE`と書かれたファイルがあるので, クリックして中を読みます. ライセンスは難しいのですが, `MIT LICENSE`や`BSD LICENSE`なら, 割と自由に使えます.
![](pics/pics%20%2884%29.png)

また, ライセンスファイルがない時があります. この場合, ｢最も厳しいライセンス｣ = ｢著作権が全て適応された状態｣になっています. うっかり使わないようにしましょう.

## RepositoryをCloneする (Git)
GithubにあるRepositoryを操作するために, 自分のマシンにRepositoryをコピーします. このコピーのことをCloneと呼びます.

今, Folkしてきた自分のリポジトリのページに行き, `Clone or Download`をクリックします. Urlが表示されるので, コピーします. コピーボタンをクリックするとコピーできます.
![](pics/pics%20%2845%29.png)
Codeanywhereのコンテナのターミナルを起動します. 以下のコマンドを入力します. %%で囲まれた部分は, 自分のものに置き換えてください. %も消してください.
```
git clone %コピーしたアドレス%
```
渡しの場合は次のようになります.
```
git clone https://github.com/toshi-asai/jbs_tufs_18_code.git
```
左のファイルリストにリポジトリのファイルが表示されたら成功です. また, この時, clone元のRepository(Github)には`origin`という名前がついています.
![](pics/pics%20%2846%29.png)

## Repositoryにcommitする (Git)
自分のマシンのリポジトリにファイルを登録しましょう. 新しく作ったファイルや, 既存のファイルに加えた変更は自動で登録されてしまうことはありません.

今回は, 任意の場所にフォルダやファイルを作ります.
![](pics/pics%20%2878%29.png)

ターミナルを開きます. 対象のRepositoryのあるフォルダ(.gitがあるフォルダ)に移動します. 以下のコマンドを入力します.
```
cd %フォルダ名%
```
今回は
```
cd jbs_tufs_18_code
```
図の赤枠が, 今, 操作の対象になっているフォルダ(カレントディレクトリ)です.
![](pics/pics%20%2879%29.png)

登録するファイルをえらびます. 以下のコマンドを入力します.
```
git add "%ファイル名%"
git add "%フォルダ名/ファイル名%"
```

全部登録したい場合は, 以下のコマンドを入力します. 今回は全部登録します.
```
git add --all
```
![](pics/pics%20%2880%29.png)

Repositoryに実際に登録します. 以下のコマンドを入力します
```
git commit -m "%何をコミットしたかの概要メッセージ%"
```
メッセージは書かないこともできますが, チームで活動する場合は, 顰蹙を買います. なにより, 自分が後で困ります. 書くようにしましょう.
![](pics/pics%20%2881%29.png)

コミットできました.

## Repositoryにpushする (Git)
コミットして, 変更が完了したら, Githubの自分のリポジトリにアップロードしましょう. 以下のコマンドを入力します.
```
git push %対象のリポジトリ% %対象のブランチ%
```

今回は以下のようになります. ブランチがよくわからなくても, この授業では, masterだけ覚えておけば大丈夫です. 実際にgitを使っているチームに入ったときに, 詳しく教えてもらいましょう.
```
git push origin master
```

入力すると, ユーザー名とパスワードを聞かれます. Githubアカウントに登録したメールアドレスと, パスワードを入力します. パスワードは｢*｣マークが表示されませんが, 入力されています. そんなものです.
![](pics/pics%20%2882%29.png)

GithubのRepositoryを見てみると反映されています.
![](pics/pics%20%2883%29.png)

## PullRequestを送る (Github)
更新したファイルをFolk元の人に送る事ができます. この機能をPullRequestと呼びます. PRと省略される事が多いです. PRは割と気軽な気持ちで送ります.
｢こんな機能があったら **私は** うれしいけど, 君はどうだい?｣
位な感じです. ただし, マナーは守りましょう.

`New pull request`ボタンをクリックします.
![](pics/pics%20%2850%29.png)

メッセージ欄にメッセージを入力します. 日本人同士でも, 基本は英語です. Githubにいる多くのの人がネイティブではないので, Google翻訳を使って読まれることが多いです. 私達もGoogle翻訳を駆使しましょう.

また, 先程と同様, 実際のプロジェクトでは, masterブランチにPRを送ることはありえないです. プロジェクトごとにどのブランチを使うかは決まりがあります. 先方から指示をもらうようにしましょう.

メッセージを書いたら, `create pull request`をクリックします.
![](pics/pics%20%2852%29.png)

Folk元のリポジトリの`pull request`タブの中に, 自分の作ったPRが登録されました. Folk元の人からの返信を待ちましょう
![](pics/pics%20%2853%29.png)

## PullRequestを受け取る (Github)
幸運にも協力者が現れて, 自分のRepositoryに貢献してくれるかもしれません. その時のためにキャプチャを載せておきます. ここまで来たら, たぶん, 流れでできると思います.ただし, 送る側は気軽な気持ちで送っています. もしかしたら, 自分には不要な貢献かもしれません. 送られてきたものが, どのようなものかは, **必ず**確認しましょう.

また, 受け取る側も気軽な気持ちで待ちます. 大きすぎる貢献は拒否しても大丈夫です. 大量の更新が送られてきた時は, ｢小さいPRに分けてね｣のように, 返答します. 二度と協力してくれなくなるかもしれませんが, まぁ, その時はその時です.

以下, キャプチャ.
![](pics/pics%20%2854%29.png)
![](pics/pics%20%2855%29.png)
![](pics/pics%20%2856%29.png)
![](pics/pics%20%2857%29.png)
![](pics/pics%20%2858%29.png)
![](pics/pics%20%2859%29.png)
![](pics/pics%20%2860%29.png)
![](pics/pics%20%2861%29.png)
